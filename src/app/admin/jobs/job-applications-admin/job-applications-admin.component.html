<div class="container">
  <div fxLayout="row">
    <div fxFlex="10" fxFlex.sm="0" fxFlex.xs="0"></div>
    <div fxFlex fxFlex.sm="100" fxFlex.xs="100" fxLayout="column">
      <div fxLayout="row">
        <h2 fxFlexAlign="center">Job Applications</h2>
      </div>

      <mat-table class="data-table" #table [dataSource]="applications" matSort fxFill>
        <ng-container matColumnDef="id">
          <mat-header-cell *matHeaderCellDef mat-sort-header> ID </mat-header-cell>
          <mat-cell *matCellDef="let app"> {{app.id}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="name">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
          <mat-cell *matCellDef="let app"> {{app.User.firstName}} {{app.User.lastName}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="email">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Email </mat-header-cell>
            <mat-cell *matCellDef="let app"> {{app.User.email}}</mat-cell>
          </ng-container>
        <ng-container matColumnDef="comment">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Comment </mat-header-cell>
          <mat-cell *matCellDef="let app"> {{app.comment}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="createdAt">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Created At </mat-header-cell>
          <mat-cell *matCellDef="let app"> {{app.createdAt | date:'dd/MM/yyyy'}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="cv">
          <mat-header-cell *matHeaderCellDef> CV </mat-header-cell>
          <mat-cell *matCellDef="let app">
            <mat-icon class="icon icon-cv" (click)="download(app.cvUrl)">file_download</mat-icon>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="coverLetter">
          <mat-header-cell *matHeaderCellDef> Cover Letter </mat-header-cell>
          <mat-cell *matCellDef="let app">
            <mat-icon class="icon icon-coverLetter" (click)="download(app.coverLetterUrl)" [ngClass]="{'inactive': !app.coverLetterUrl}">file_download</mat-icon>
          </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;" (click)="currentlyClickedRow = row"></mat-row>
      </mat-table>

      <mat-paginator *ngIf="length > 10" [pageSize]="10" [pageSizeOptions]="[10, 20, 50]" [showFirstLastButtons]="true">
      </mat-paginator>
    </div>
    <div fxFlex="10" fxFlex.sm="0" fxFlex.xs="0"></div>
  </div>
</div>
